# libpag 开源项目授权约束总览（含主项目+第三方组件）
## 一、libpag 主项目授权约束（Apache License Version 2.0）
| 约束类别 | 核心要求 |
|----------|----------|
| 版权与修改声明 | 1. 对主项目代码修改时，需在修改文件中添加显著通知（标注修改方、内容及日期）；<br>2. 源代码形式分发衍生作品时，需完整保留原版权、专利、商标及归属声明（无关声明可剔除）。 |
| 再分发文件要求 | 1. 无论源代码/二进制形式，需向接收者提供 Apache 2.0 协议完整副本（可放于 `LICENSE` 文件或提供官方链接：[http://www.apache.org/licenses/](http://www.apache.org/licenses/)）；<br>2. 若主项目含 `NOTICE` 文件，衍生作品需在「随附 `NOTICE` 文件/源代码/运行时界面」中至少一处包含有效归属声明。 |
| 专利与诉讼限制 | 1. 可免费获得全球、永久、非独占专利许可（仅覆盖贡献者代码单独或结合主项目的必然侵权专利）；<br>2. 若提起专利诉讼主张主项目/贡献侵权，所有专利许可立即终止。 |
| 商标使用规范 | 不得使用 Tencent 及贡献者的商号、商标、服务标记或产品名称，仅可“合理描述来源”（如“基于 Tencent 开源 libpag 开发”）。 |
| 免责与责任划分 | 1. 主项目以“现状（AS IS）”提供，无任何明示/暗示担保（如适销性、特定用途适用性）；<br>2. 除非法律强制（如故意/重大过失），不承担间接损失责任（商誉损失、业务中断等）。 |


## 二、第三方组件授权约束明细
| 第三方组件 | 协议类型 | 核心约束（开发需重点关注） |
|------------|----------|----------------------------|
| libavc | Apache 2.0 | 与 libpag 主项目约束一致（需保留版权声明、分发时附带协议副本），且需标注 “本组件已由 Tencent 修改” |
| lz4（lib 目录） | BSD 2-Clause | 1. 源代码分发需保留原版权声明、协议条款及免责声明；<br>2. 二进制分发需在安装文档中复制上述声明 |
| lz4（非 lib 目录） | GPL v2 | 1. 强制开源：基于该部分代码修改的衍生作品，必须以 GPL v2 协议整体开源，不可闭源商用；<br>2. 二进制分发需提供完整源代码（或提供 “3 年内可获取源代码” 的书面承诺） |
| tgfx | BSD 3-Clause | 在 BSD 2-Clause 基础上新增：不得使用 Tencent 或 tgfx 贡献者的名称为你的软件背书/推广（如 “本软件经 Tencent 认证” 属于违规） |
| ffavc | LGPL v2.1 | 1. 若你的软件是闭源应用，可链接 ffavc 库，但必须向用户提供 ffavc 的修改源代码（若你修改过）；<br>2. 需在软件中显著标注 “使用了 ffavc 库，遵循 LGPL v2.1 协议” |
| vendor_tools/rttr | MIT License | 1. 可自由商用、修改，但需在所有软件副本中保留原版权声明和 MIT 许可声明；<br>2. 可添加你的版权声明，但不得覆盖或修改原声明 |
| QT 系列（如 QT Quick、QT Widgets） | LGPL v3 | 1. 若将 QT 组件与你的闭源软件组合，需提供 QT 组件的修改源代码及 “安装信息”（供用户修改 QT 后重新链接你的软件）；<br>2. 软件运行时的 “关于” 界面需包含 QT 的版权声明及 LGPL v3 协议引用 |


## 三、跨协议通用合规建议
1. **协议冲突规避**：若使用 lz4（非 lib 目录，GPL v2），需注意 GPL 协议“传染性”——整个软件（含自研代码）需以 GPL v2 开源；若需闭源商用，建议仅使用 lz4（lib 目录，BSD 2-Clause）。
2. **声明文件管理**：在软件的 `LICENSE` 目录中，按组件分别存放对应协议文本（如 `Apache-2.0.txt`、`GPL-v2.txt`），清晰区分各组件协议归属，避免合并或删减声明。
3. **贡献提交规范**：向 libpag 官方提交代码时，默认受 Apache 2.0 协议约束（除非与 Tencent 签订单独许可协议），提交前需确认代码无第三方权利纠纷。
4. **闭源场景重点检查**：闭源开发时，需确保所有使用的组件支持闭源链接（如 Apache 2.0、BSD、LGPL 系列），规避 GPL 组件；若使用 LGPL 组件，需按要求提供修改源代码及安装信息。